{"mappings":"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","sources":["util.js","constants.js","handUtils.js","playhand.js","index.js"],"sourcesContent":["const nonNumericRankToNum = {\n  T: 10,\n  J: 11,\n  Q: 12,\n  K: 13,\n  A: 14,\n};\n\nexport function cardStringToObj(cardsString) {\n  const cards = cardsString\n    .split('?')\n    .filter((card) => card !== '')\n    .map((cardString) => {\n      const rank = cardString[0];\n      const suit = cardString[1];\n\n      let ranknum = nonNumericRankToNum[rank] || parseInt(rank);\n      // Rank number should go 0 - 12\n      ranknum -= 2;\n\n      return {\n        suit,\n        rank,\n        ranknum,\n        cardString,\n      };\n    });\n  cards.sort((a, b) => b.ranknum - a.ranknum);\n  return cards;\n}\n","export const HANDS = {\n  HIGH_CARD: 'HIGH CARD',\n  PAIR: 'PAIR',\n  TWO_PAIR: 'TWO PAIR',\n  THREE_OF_A_KIND: 'THREE OF A KIND',\n  STRAIGHT: 'STRAIGHT',\n  FLUSH: 'FLUSH',\n  FULL_HOUSE: 'FULL HOUSE',\n  FOUR_OF_A_KIND: 'FOUR OF A KIND',\n  STRAIGHT_FLUSH: 'STRAIGHT FLUSH',\n};\n\nexport const RANKED_HANDS = {\n  [HANDS.HIGH_CARD]: 1,\n  [HANDS.PAIR]: 2,\n  [HANDS.TWO_PAIR]: 3,\n  [HANDS.THREE_OF_A_KIND]: 4,\n  [HANDS.STRAIGHT]: 5,\n  [HANDS.FLUSH]: 6,\n  [HANDS.FULL_HOUSE]: 7,\n  [HANDS.FOUR_OF_A_KIND]: 8,\n  [HANDS.STRAIGHT_FLUSH]: 9,\n};\n\nexport const RANK_TO_NUMRANK = {\n  A: 12,\n  K: 11,\n  Q: 10,\n  J: 9,\n  T: 8,\n  9: 7,\n  8: 6,\n  7: 5,\n  6: 4,\n  5: 3,\n  4: 2,\n  3: 1,\n  2: 0,\n};\n\nexport const ALL_CARD_STRINGS = [\n  '2D',\n  '2C',\n  '2H',\n  '2S',\n  '3D',\n  '3C',\n  '3H',\n  '3S',\n  '4D',\n  '4C',\n  '4H',\n  '4S',\n  '5D',\n  '5C',\n  '5H',\n  '5S',\n  '6D',\n  '6C',\n  '6H',\n  '6S',\n  '7D',\n  '7C',\n  '7H',\n  '7S',\n  '8D',\n  '8C',\n  '8H',\n  '8S',\n  '9D',\n  '9C',\n  '9H',\n  '9S',\n  'TD',\n  'TC',\n  'TH',\n  'TS',\n  'JD',\n  'JC',\n  'JH',\n  'JS',\n  'QD',\n  'QC',\n  'QH',\n  'QS',\n  'KD',\n  'KC',\n  'KH',\n  'KS',\n  'AD',\n  'AC',\n  'AH',\n  'AS',\n];\n","import { HANDS, RANK_TO_NUMRANK } from './constants';\n\nexport function checkStraightOrDrawOfLength(allCards, lengthOfDraw) {\n  const sortedRanks = allCards\n    .sort((a, b) => b.ranknum - a.ranknum)\n    .map((c) => c.rank);\n  let uniqueRanksInOrder = [...new Set(sortedRanks)].join('');\n  if (uniqueRanksInOrder.startsWith('A')) {\n    uniqueRanksInOrder = uniqueRanksInOrder + 'A';\n  }\n\n  for (let i = 0; i <= uniqueRanksInOrder.length - lengthOfDraw; i++) {\n    const subStringToCheck = uniqueRanksInOrder.slice(i, i + lengthOfDraw);\n    if ('AKQJT98765432A'.indexOf(subStringToCheck) !== -1) {\n      return subStringToCheck[0];\n    }\n  }\n}\n\nexport function myPokerHand(handCards, boardCards) {\n  const rankToCount = {};\n  const suitToCount = {};\n  const allCards = handCards.concat(boardCards);\n  allCards.forEach((card) => {\n    const currentRankCount = rankToCount[card.rank] || 0;\n    rankToCount[card.rank] = currentRankCount + 1;\n\n    const currentSuitCount = suitToCount[card.suit] || 0;\n    suitToCount[card.suit] = currentSuitCount + 1;\n  });\n\n  let highestCount = 0;\n  let secondHighestCount = 0;\n  Object.entries(rankToCount).forEach(([_, count]) => {\n    if (count > highestCount) {\n      secondHighestCount = highestCount;\n      highestCount = count;\n    } else if (count > secondHighestCount) {\n      secondHighestCount = count;\n    }\n  });\n\n  // Check straight flush\n  var hasFlush = false;\n  var flushRanks = [];\n  var staightFlushTopRank;\n  Object.entries(suitToCount).forEach(([suit, count]) => {\n    if (count >= 5) {\n      hasFlush = true;\n      const cardsOfSuit = allCards.filter((card) => card.suit === suit);\n      flushRanks = cardsOfSuit\n        .sort((a, b) => b.ranknum - a.ranknum)\n        .map((card) => card.rank)\n        .slice(0, 5);\n      staightFlushTopRank = checkStraightOrDrawOfLength(cardsOfSuit, 5);\n    }\n  });\n\n  if (staightFlushTopRank) {\n    return {\n      hand: HANDS.STRAIGHT_FLUSH,\n      handRanks: [staightFlushTopRank],\n      kickers: [],\n    };\n  }\n\n  // Check 4 of a kind\n  if (highestCount === 4) {\n    const fourOfAKindRank = Object.entries(rankToCount).filter(\n      ([, count]) => count === 4\n    )[0][0];\n\n    const cardsMinusFourOfAKind = allCards.filter(\n      (card) => card.rank != fourOfAKindRank\n    );\n\n    return {\n      hand: HANDS.FOUR_OF_A_KIND,\n      handRanks: [fourOfAKindRank],\n      kickers: getTopNRanks(cardsMinusFourOfAKind, 1),\n    };\n  }\n\n  // Check full house\n  if (highestCount === 3 && secondHighestCount >= 2) {\n    var tripRanks = [];\n    var pairRanks = [];\n    for (let rank in rankToCount) {\n      if (rankToCount[rank] == 3) {\n        tripRanks.push(rank);\n      } else if (rankToCount[rank] == 2) {\n        pairRanks.push(rank);\n      }\n    }\n\n    tripRanks.sort((a, b) => RANK_TO_NUMRANK[b] - RANK_TO_NUMRANK[a]);\n\n    // If there are 2 separate 3 of a kinds on the board then we need to treat the lower one as a pair\n    if (tripRanks.length > 1) {\n      pairRanks.push(tripRanks[1]);\n    }\n    pairRanks.sort((a, b) => RANK_TO_NUMRANK[b] - RANK_TO_NUMRANK[a]);\n\n    return {\n      hand: HANDS.FULL_HOUSE,\n      handRanks: [tripRanks[0], pairRanks[0]],\n      kickers: [],\n    };\n  }\n\n  // Check flush\n  if (hasFlush) {\n    return {\n      hand: HANDS.FLUSH,\n      handRanks: flushRanks,\n      kickers: [],\n    };\n  }\n\n  // Check straight\n  const topRankInStraight = checkStraightOrDrawOfLength(allCards, 5);\n  if (topRankInStraight) {\n    return {\n      hand: HANDS.STRAIGHT,\n      handRanks: [topRankInStraight],\n      kickers: [],\n    };\n  }\n\n  // Check 3 of a kind\n  if (highestCount === 3) {\n    const tripRank = Object.entries(rankToCount).filter(\n      ([, count]) => count === 3\n    )[0][0];\n\n    var cardsMinusTrips = allCards.filter((card) => card.rank != tripRank);\n\n    return {\n      hand: HANDS.THREE_OF_A_KIND,\n      handRanks: [tripRank],\n      kickers: getTopNRanks(cardsMinusTrips, 2),\n    };\n  }\n\n  // Check 2 pair\n  if (highestCount === 2 && secondHighestCount === 2) {\n    const pairRanks = Object.entries(rankToCount)\n      .filter(([, count]) => count === 2)\n      .map(([rank]) => rank)\n      .sort((a, b) => RANK_TO_NUMRANK[b] - RANK_TO_NUMRANK[a])\n      .slice(0, 2);\n\n    var cardsMinusPairs = allCards.filter(\n      (card) => !pairRanks.includes(card.rank)\n    );\n\n    return {\n      hand: HANDS.TWO_PAIR,\n      handRanks: pairRanks,\n      kickers: getTopNRanks(cardsMinusPairs, 1),\n    };\n  }\n\n  // Check pair\n  if (highestCount === 2) {\n    const pairRank = Object.entries(rankToCount).filter(\n      ([, count]) => count === 2\n    )[0][0];\n\n    var cardsMinusPair = allCards.filter((card) => card.rank != pairRank);\n\n    return {\n      hand: HANDS.PAIR,\n      handRanks: [pairRank],\n      kickers: getTopNRanks(cardsMinusPair, 3),\n    };\n  }\n\n  return {\n    hand: HANDS.HIGH_CARD,\n    handRanks: [],\n    kickers: getTopNRanks(allCards, 5),\n  };\n}\n\nexport function getTopNRanks(cards, n) {\n  return cards\n    .map((card) => card.rank)\n    .sort((a, b) => RANK_TO_NUMRANK[b] - RANK_TO_NUMRANK[a])\n    .slice(0, n);\n}\n","import { cardStringToObj } from './util';\nimport { checkStraightOrDrawOfLength, myPokerHand } from './handUtils';\nimport { HANDS } from './constants';\n\nlet tauntOpportunity = false; // set to true if I'm in a showdown and someone else is all-in\n\nconst mb = {\n  // constants\n  BIG_BLIND: game.big_blind / 100, // not accounting for someone changing BB mid-game\n  ALL: 'all',\n};\n\nconst preFlopHandsToBetMultipliers = {\n  // hand_ranks: [call_to, raise_to]\n  // call_to and raise_to are multipliers of the big blind\n  AA: [mb.ALL, mb.ALL],\n  72: [mb.ALL, mb.ALL],\n  KK: [mb.ALL, mb.ALL],\n  QQ: [mb.ALL, mb.ALL],\n  JJ: [mb.ALL, mb.ALL],\n  TT: [mb.ALL, mb.ALL],\n  99: [10, 3],\n  88: [10, 3],\n  AK: [mb.ALL, mb.ALL],\n  AQ: [30, 3],\n  AJ: [30, 3],\n  A5: [3, 1],\n  AT: [8, 3],\n  A9: [1, 1],\n  A8: [1, 1],\n  KQ: [8, 3],\n  KJ: [8, 3],\n  KT: [3, 3],\n  K9: [1, 1],\n  QJ: [3, 1],\n  QT: [3, 1],\n  Q9: [1, 1],\n  Q8: [1, 1],\n  JT: [3, 1],\n  J9: [1, 1],\n  J8: [1, 1],\n  J7: [1, 1],\n  T9: [1, 1],\n  77: [3, 1],\n  66: [3, 1],\n  55: [3, 1],\n  44: [3, 1],\n  33: [3, 1],\n  22: [3, 1],\n};\n\nconst suitedPreFlopHandsToBetMultipliers = {\n  AK: [mb.ALL, mb.ALL],\n  AQ: [mb.ALL, mb.ALL],\n  AJ: [30, 5],\n  AT: [10, 5],\n  A9: [10, 3],\n  A8: [8, 3],\n  A7: [6, 1],\n  A6: [6, 1],\n  A5: [8, 3],\n  A4: [5, 1],\n  A3: [5, 1],\n  A2: [5, 1],\n  KQ: [10, 5],\n  KJ: [10, 5],\n  KT: [8, 3],\n  K9: [6, 3],\n  K8: [1, 3],\n  QJ: [10, 5],\n  QT: [8, 1],\n  Q9: [3, 1],\n  Q8: [3, 1],\n  JT: [10, 3],\n  J9: [3, 1],\n  J8: [3, 1],\n  J7: [3, 1],\n  T9: [6, 3],\n  T8: [1, 1],\n  T7: [1, 1],\n  98: [5, 1],\n  97: [1, 1],\n  87: [5, 1],\n  86: [1, 1],\n  76: [1, 1],\n  75: [1, 1],\n  65: [1, 1],\n  64: [1, 1],\n  54: [1, 1],\n  43: [1, 1],\n  32: [1, 1],\n};\n\nexport async function checkIfTurnAndPlay() {\n  if (\n    !game.action_widget ||\n    !game.players[game.client_perspective].cards.card_str\n  ) {\n    // seems like sometimes action_widget will be truthy but there are no cards... skip\n    return;\n  }\n  await new Promise((resolve) => setTimeout(resolve, 1000));\n  const holeCards = game.players[game.client_perspective].cards.card_str;\n  const boardCards = game.board.card_str;\n  const boardCardsLogMsg = boardCards\n    ? ` and the board shows ${boardCards}.`\n    : '.';\n  console.log(`My hole cards are ${holeCards}${boardCardsLogMsg}`);\n  playHand(holeCards, boardCards);\n}\n\nfunction setDefaultGameOptions() {\n  if (\n    game.game_options_widget.allow_easy_reveal &&\n    !game.game_options_widget.easy_reveal.is_checked()\n  ) {\n    game.game_options_widget.easy_reveal.clicked();\n  }\n  if (\n    game.game_options_widget.bomb_pot_value &&\n    !game.game_options_widget.bomb_pot.is_checked()\n  ) {\n    game.game_options_widget.bomb_pot.clicked();\n  }\n}\n\nfunction checkOrFold() {\n  if (game.action_widget.to_call === 0) {\n    checkOrCall();\n  } else {\n    game.action_widget.execute_fold();\n  }\n}\n\nfunction checkOrCall() {\n  game.action_widget.execute_check_call();\n}\n\nfunction makeBetOfSize(callToLimit, raiseToLimit) {\n  // TODO later on, take in increment size so we can do smaller raises\n  const betInFront = game.action_widget.bet_in_front;\n  const betSizeIfCall = betInFront + game.action_widget.to_call / 100;\n  const betSizeIfAllIn = betInFront + game.action_widget.stack_size;\n  const minBet = game.action_widget.threshold_values.length\n    ? game.action_widget.threshold_values[0]\n    : undefined;\n  console.info(\n    `Raise to limit: ${raiseToLimit}. Min bet: ${minBet}. Call to limit: ${callToLimit}. Bet size if call: ${betSizeIfCall}.`\n  );\n  if (game.action_widget.bet_button || game.action_widget.raise_button) {\n    if (minBet <= raiseToLimit) {\n      console.log(\n        raiseToLimit === betSizeIfAllIn\n          ? 'Going all in.'\n          : `Raising to ${raiseToLimit}.`\n      );\n      game.action_widget.update_slider_by_value(raiseToLimit);\n      game.action_widget.sizing_input.value = raiseToLimit;\n      game.action_widget.execute_bet_raise();\n      return;\n    }\n  }\n  // If we get here, either raising wasn't an option in the game or the min bet was too high for us.\n  if (game.action_widget.all_in && betSizeIfAllIn <= raiseToLimit) {\n    console.log(\"Can't/won't raise; going all in instead.\");\n    game.action_widget.all_in.execute();\n  } else if (game.action_widget.call_button && betSizeIfCall <= callToLimit) {\n    console.log(\"Can't/won't raise; calling instead.\");\n    checkOrCall();\n  } else {\n    console.log('Checking/folding.');\n    checkOrFold();\n  }\n}\n\nfunction makeBetUsingMultipliers(callToMult, raiseToMult) {\n  const betSizeIfAllIn =\n    game.action_widget.stack_size + game.action_widget.bet_in_front;\n  const callToLimit =\n    callToMult === mb.ALL ? betSizeIfAllIn : callToMult * mb.BIG_BLIND;\n  const raiseToLimit =\n    raiseToMult === mb.ALL ? betSizeIfAllIn : raiseToMult * mb.BIG_BLIND;\n  makeBetOfSize(callToLimit, raiseToLimit);\n}\n\nfunction playHand(handString, boardString) {\n  if (game.ruleset_name !== 'NL Texas Holdem') {\n    console.log(\n      `Folding/checking because we aren't playing 'NL Texas Holdem'. The game is ${game.ruleset_name}.`\n    );\n    checkOrFold();\n    return;\n  }\n  try {\n    setDefaultGameOptions();\n  } catch (e) {\n    // we don't really care\n  }\n\n  if (boardString === '') {\n    preflop(handString);\n  } else {\n    postflop(handString, boardString, game.n_players_in_hand);\n  }\n}\n\nfunction preflop(cardsString) {\n  const [card1, card2] = cardStringToObj(cardsString);\n  const handRanksString = card1.rank + card2.rank;\n\n  if (card1.suit === card2.suit) {\n    const suitedBetMultipliers =\n      suitedPreFlopHandsToBetMultipliers[handRanksString];\n    if (suitedBetMultipliers) {\n      console.log(\n        'Preflop cards are suited, and match one of the suited starting hands'\n      );\n      const [callToMult, raiseToMult] = suitedBetMultipliers;\n      makeBetUsingMultipliers(callToMult, raiseToMult);\n      return;\n    }\n  }\n\n  const betMultipliers = preFlopHandsToBetMultipliers[handRanksString];\n  if (!betMultipliers) {\n    if (Math.random() > 0.95) {\n      // 5% of the time we will randomly limp in\n      console.log(\n        \"Even though this isn't a hand we usually play, randomly limping in if it's cheap.\"\n      );\n      makeBetUsingMultipliers(3, 1);\n      return;\n    }\n\n    console.log('Checking or folding.');\n    checkOrFold();\n    return;\n  }\n\n  const [callToMult, raiseToMult] = betMultipliers;\n  makeBetUsingMultipliers(callToMult, raiseToMult);\n}\n\nfunction postflop(\n  cardsString,\n  boardCardsString,\n  playersInHand,\n  potSizeAtStartOfRound\n) {\n  var cards = cardStringToObj(cardsString);\n  var boardCards = cardStringToObj(boardCardsString);\n\n  const myhand = myPokerHand(cards, boardCards).hand;\n  const usedHoleCards = getHoleCardsUsed(cards, boardCards);\n\n  const betOptions = [];\n\n  if (myhand === HANDS.STRAIGHT_FLUSH && usedHoleCards.length > 0) {\n    betOptions.push({\n      message: 'Straight flush!',\n      callTo: mb.ALL,\n      raiseTo: 4 * boardCards.length,\n    });\n  }\n\n  if (myhand === HANDS.FOUR_OF_A_KIND && usedHoleCards.length > 0) {\n    betOptions.push({\n      message: 'Four of a kind',\n      callTo: mb.ALL,\n      raiseTo: 4 * boardCards.length,\n    });\n  }\n\n  // full houses\n  if (myhand === HANDS.FULL_HOUSE && usedHoleCards.length > 0) {\n    if (usedHoleCards === 2) {\n      if (myPokerHand([], boardCards).hand === HANDS.THREE_OF_A_KIND) {\n        if (boardCards.every((c) => c.ranknum < cards[0].ranknum)) {\n          betOptions.push({\n            message:\n              'Three of a kind on the board and we have a pocket overpair',\n            callTo: mb.ALL,\n            raiseTo: 4 * boardCards.length,\n          });\n        } else {\n          betOptions.push({\n            message:\n              'Three of a kind on the board and we have a pocket pair (not overpair)',\n            callTo: 10,\n            raiseTo: 3,\n          });\n        }\n      } else {\n        betOptions.push({\n          message: 'Full house using at least both hole cards',\n          callTo: mb.ALL,\n          raiseTo: 4 * boardCards.length,\n        });\n      }\n    } else if (myPokerHand([], boardCards).hand === HANDS.THREE_OF_A_KIND) {\n      betOptions.push({\n        message: 'Full house using 1 hole card, but trips on the board',\n        callTo: 5,\n        raiseTo: 5,\n      });\n    } else {\n      betOptions.push({\n        message: 'Full house using 1 hole card, no trips on the board',\n        callTo: mb.ALL,\n        raiseTo: 8,\n      });\n    }\n  }\n\n  // flushes\n  if (myhand === HANDS.FLUSH) {\n    if (usedHoleCards.length === 2) {\n      betOptions.push({\n        message: 'Flush using both our hole cards',\n        callTo: mb.ALL,\n        raiseTo: 7,\n      });\n    } else if (usedHoleCards.length === 1) {\n      if (['A', 'K'].includes(usedHoleCards[0].rank)) {\n        betOptions.push({\n          message: 'Flush using 1 hole card (A or K)',\n          callTo: mb.ALL,\n          raiseTo: 4,\n        });\n      }\n\n      betOptions.push({\n        message: 'Flush using 1 hole card (not A or K)',\n        callTo: 5,\n        raiseTo: 0,\n      });\n    } else {\n      // Flush on the board\n      // Check if we beat the board and have A or K\n      const hasHighCardInSuit = cards.some(\n        (card) =>\n          ['A', 'K'].includes(card.rank) && card.suit === boardCards[0].suit\n      );\n\n      if (hasHighCardInSuit) {\n        betOptions.push({\n          message: 'Flush using 1 hole card (A or K)',\n          callTo: mb.ALL,\n          raiseTo: 4,\n        });\n      } else {\n        if (Math.random() > 0.9) {\n          betOptions.push({\n            message:\n              'Flush on the board, but randomly bluffing 10% of the time',\n            callTo: 0,\n            raiseTo: mb.ALL,\n          });\n        } else {\n          // Right now this is just for logging\n          betOptions.push({\n            message: 'Flush on the board',\n            callTo: 0,\n            raiseTo: 0,\n          });\n        }\n      }\n    }\n  }\n\n  // straights\n  if (myhand === HANDS.STRAIGHT) {\n    if (usedHoleCards.length === 2) {\n      if (fourToFlush(boardCards)) {\n        betOptions.push({\n          message:\n            'Straight using both hole cards, but 4 to flush on the board',\n          callTo: 5,\n          raiseTo: 5,\n        });\n      } else {\n        betOptions.push({\n          message: 'Straight using both hole cards, wahoo!',\n          callTo: mb.ALL,\n          raiseTo: 7,\n        });\n      }\n    } else if (usedHoleCards.length === 1) {\n      if (fourToFlush(boardCards)) {\n        betOptions.push({\n          message: 'Straight using 1 hole card, but 4 to flush on the board',\n          callTo: 3,\n          raiseTo: 3,\n        });\n      } else {\n        betOptions.push({\n          message: 'Straight using only 1 hole card',\n          callTo: 20,\n          raiseTo: 3,\n        });\n      }\n    } else {\n      // Straight on the board\n      highestBoardCardRankNum = Math.max(...boardCards.map((c) => c.rankNum));\n      if (cards.some((c) => c.rankNum === highestBoardCardRankNum + 1)) {\n        // We beat the straight on the board\n        if (fourToFlush(boardCards)) {\n          betOptions.push({\n            message:\n              'We beat the straight on the board, but there are 4 to a flush',\n            callTo: 0,\n            raiseTo: 0,\n          });\n        } else {\n          betOptions.push({\n            message: 'Straight on the board, but we have a better straight',\n            callTo: mb.ALL,\n            raiseTo: 5,\n          });\n        }\n      } else {\n        // Right now this is just for logging\n        betOptions.push({\n          message: 'Straight on the board',\n          callTo: 0,\n          raiseTo: 0,\n        });\n      }\n    }\n  }\n\n  // trips (only using one card in hand)\n  if (myhand == HANDS.THREE_OF_A_KIND && usedHoleCards.length >= 1) {\n    if (fourToFlushOrStraight(boardCards)) {\n      betOptions.push({\n        message:\n          'Trips using at least 1 hole card, but 4 to flush/straight on the board',\n        callTo: 3,\n        raiseTo: 3,\n      });\n    } else if (usedHoleCards === 2) {\n      betOptions.push({\n        message: 'Pocket pair that hit trips or better',\n        callTo: mb.ALL,\n        raiseTo: 3 * boardCards.length,\n      });\n    } else {\n      betOptions.push({\n        message: 'Trips using 1 hole card',\n        callTo: 25,\n        raiseTo: 3 * boardCards.length,\n      });\n    }\n  }\n\n  // two pair (using both hole cards)\n  if (myhand == HANDS.TWO_PAIR && usedHoleCards.length == 2) {\n    if (fourToFlushOrStraight(boardCards)) {\n      betOptions.push({\n        message:\n          'Two pair using both hole cards but 4 to flush/straight on the board',\n        callTo: 3,\n        raiseTo: 3,\n      });\n    } else {\n      if (cards[0].rank === cards[1].rank) {\n        if (boardCards.every((c) => c.ranknum < cards[0].ranknum)) {\n          betOptions.push({\n            message: 'Pair on the board and pocket pair overpair',\n            callTo: 15,\n            raiseTo: 3,\n          });\n        } else {\n          betOptions.push({\n            message: 'Pair on the board and pocket pair (not overpair)',\n            callTo: 5,\n            raiseTo: 1,\n          });\n        }\n      } else {\n        betOptions.push({\n          message: 'Two pair using both hole cards',\n          callTo: 25,\n          raiseTo: 2 * boardCards.length,\n        });\n      }\n    }\n  }\n\n  // pair (possible 2 pair with one pair on the board)\n  if (\n    [AHNDS.PAIR, HANDS.TWO_PAIR].includes(myhand) &&\n    usedHoleCards.length == 1\n  ) {\n    if (fourToFlushOrStraight(boardCards)) {\n      betOptions.push({\n        message: 'Pair, but 4 to flush/straight on the board',\n        callTo: 3,\n        raiseTo: 3,\n      });\n    } else {\n      boardCardRankNumDescending = boardCards\n        .map((c) => c.ranknum)\n        .sort((a, b) => b - a);\n      if (usedHoleCards[0].ranknum === boardCardRankNumDescending[0]) {\n        if (boardCards.length === 3) {\n          if (playersInHand === 2) {\n            betOptions.push({\n              message: 'Top pair (only 1 other player in hand)',\n              callTo: 20,\n              raiseTo: 5,\n            });\n          } else {\n            betOptions.push({\n              message: 'Top pair',\n              callTo: 10,\n              raiseTo: 3,\n            });\n          }\n        } else if (boardCards.length === 4) {\n          if (playersInHand === 2) {\n            betOptions.push({\n              message: 'Top pair (only 1 other player in hand)',\n              callTo: 20,\n              raiseTo: 10,\n            });\n          } else {\n            betOptions.push({\n              message: 'Top pair',\n              callTo: 10,\n              raiseTo: 0,\n            });\n          }\n        } else {\n          if (playersInHand === 2) {\n            betOptions.push({\n              message: 'Top pair (only 1 other player in hand)',\n              callTo: 30,\n              raiseTo: 10,\n            });\n          } else {\n            betOptions.push({\n              message: 'Top pair',\n              callTo: 10,\n              raiseTo: 0,\n            });\n          }\n        }\n      } else if (usedHoleCards[0].ranknum === boardCardRankNumDescending[1]) {\n        if (boardCards.length === 3) {\n          betOptions.push({\n            message: 'Second pair',\n            callTo: 5,\n            raiseTo: 2,\n          });\n        } else {\n          betOptions.push({\n            message: 'Second pair',\n            callTo: 5,\n            raiseTo: 0,\n          });\n        }\n      }\n      betOptions.push({\n        message: 'low pair',\n        callTo: 3,\n        raiseTo: 0,\n      });\n    }\n  }\n\n  // pocket pairs\n  if (myhand === HANDS.PAIR && usedHoleCards === 2) {\n    if (fourToFlushOrStraight(boardCards)) {\n      betOptions.push({\n        message: 'Pocket pair, but 4 to flush/straight on the board',\n        callTo: 3,\n        raiseTo: 3,\n      });\n    } else {\n      if (boardCards.every((c) => c.ranknum < cards[0].ranknum)) {\n        betOptions.push({\n          message: 'Pocket pair overpair',\n          callTo: mb.ALL,\n          raiseTo: 5,\n        });\n      } else if (cards[0].ranknum > 9 && playersInHand == 2) {\n        betOptions.push({\n          message:\n            \"Pocket pair isn't top pair but it's high, and only 1 other player\",\n          callTo: 10,\n          raiseTo: 5,\n        });\n      }\n    }\n  }\n\n  // Flush Draw\n  if (hasFlushDraw(cards, boardCards)) {\n    if (boardCards.length === 3 && playersInHand === 2 && Math.random > 0.5) {\n      betOptions.push({\n        message:\n          'flush draw using both hole cards (3 cards on board), only 1 other player in hand, randomly going all in half the time',\n        callTo: 10,\n        raiseTo: mb.ALL,\n      });\n    } else if (boardCards.length !== 5) {\n      betOptions.push({\n        message: 'flush draw using both hole cards',\n        callTo: 10,\n        raiseTo: 0,\n      });\n    }\n  }\n\n  // Open ended straight draw\n  if (\n    checkStraightOrDrawOfLength(cards.concat(boardCards), 4) &&\n    !checkStraightOrDrawOfLength(boardCards, 4)\n  ) {\n    if (boardCards.length === 3 && playersInHand === 2) {\n      if (Math.random > 0.7) {\n        betOptions.push({\n          message: 'straight draw, randomly going all in 30% of the time',\n          callTo: 12,\n          raiseTo: mb.ALL,\n        });\n      } else {\n        betOptions.push({\n          message: 'open ended straight draw using at least 1 hole card',\n          callTo: 12,\n          raiseTo: 12,\n        });\n      }\n    } else if (boardCards.length !== 5) {\n      betOptions.push({\n        message: 'open ended straight draw using at least 1 hole card',\n        callTo: 10,\n        raiseTo: 10,\n      });\n    }\n  }\n\n  if (betOptions.length === 0 && playersInHand === 2) {\n    if (Math.random() > 0.97) {\n      betOptions.push({\n        message: 'Random bluff 3% of the time against 1 other player',\n        callTo: 0,\n        raiseTo: mb.ALL,\n      });\n    }\n    console.log('Nothing interesting going on with our hand. Check/folding');\n    checkOrFold();\n    return;\n  }\n\n  highestCallTo = 0;\n  highestRaiseTo = 0;\n  console.log('Considering betting based on these things:');\n  betOptions.forEach((betOption) => {\n    console.log(\n      'callTo: ' +\n        betOption.callTo +\n        ', raiseTo: ' +\n        betOption.raiseTo +\n        ', ' +\n        betOption.message\n    );\n    if (highestCallTo === mb.ALL || betOption.callTo === mb.ALL) {\n      highestCallTo = mb.ALL;\n    } else {\n      highestCallTo = Math.max(highestCallTo, betOption.callTo);\n    }\n    if (highestRaiseTo === mb.ALL || betOption.RaiseTo === mb.ALL) {\n      highestRaiseTo = mb.ALL;\n    } else {\n      highestRaiseTo = Math.max(highestRaiseTo, betOption.raiseTo);\n    }\n  });\n\n  console.log(\n    'Will call to: ' + highestCallTo + ' or raise to: ' + highestRaiseTo\n  );\n  makeBetUsingMultipliers(highestCallTo, highestRaiseTo);\n\n  return;\n}\n\nexport function handleShowdown() {\n  const seat = game.client_perspective;\n  if (\n    game.n_players_in_hand > 1 &&\n    game.players[seat].is_sitting_in &&\n    !game.players[seat].is_folded\n  ) {\n    console.log('SHOWDOWN WITH ME IN IT');\n    console.log('# players in showdown:', game.n_players_in_hand);\n    tauntOpportunity = Object.entries(game.players).some(\n      ([i, player]) =>\n        player.is_sitting_in &&\n        !player.is_folded &&\n        player.chips === 0 &&\n        i !== seat + ''\n    );\n    console.log('tauntOpportunity', tauntOpportunity);\n  }\n}\n\nexport function handlePotDistribution(potData) {\n  const seat = game.client_perspective;\n  if (\n    tauntOpportunity &&\n    potData.winners[seat] &&\n    Object.keys(potData.winners).length === 1\n  ) {\n    // TODO will taunt before animations finish. eventually, add a delay or wait for some event\n    // indicating animations are done\n    console.log('Taunting because I knocked someone out!');\n    socket.emit('taunt', {\n      taunt: 16,\n      id: game.table_id,\n      group_id: game.group_id,\n    });\n  }\n  tauntOpportunity = false;\n}\n\nfunction getHoleCardsUsed(holeCards, boardCards) {\n  const withBoth = myPokerHand(holeCards, boardCards).hand;\n  const noHoleCards = myPokerHand([], boardCards).hand;\n  if (withBoth === noHoleCards) {\n    return [];\n  }\n  const [withFirst, withSecond] = holeCards.map(\n    (holeCard) => myPokerHand([holeCard], boardCards).hand\n  );\n  if (withFirst === withBoth && withSecond === withBoth) {\n    // either card gets you just as good a hand as with both of them. return the one with higher rank\n    return holeCards[0].rankNum > holeCards[1].rankNum\n      ? [holeCards[0]]\n      : [holeCards[1]];\n  } else if (withBoth === withFirst) {\n    return [holeCards[0]];\n  } else if (withBoth === withSecond) {\n    return [holeCards[1]];\n  } else {\n    return holeCards;\n  }\n}\n\nfunction fourToFlushOrStraight(allCards) {\n  return fourToFlush(allCards) || checkStraightOrDrawOfLength(allCards, 4);\n}\n\n// Some duplicated work here that we could clean up\nfunction fourToFlush(allCards) {\n  const suitToCount = {};\n  allCards.forEach((card) => {\n    const currentSuitCount = suitToCount[card.suit] || 0;\n    suitToCount[card.suit] = currentSuitCount + 1;\n  });\n\n  return Object.values(suitToCount).some((count) => {\n    return count === 4;\n  });\n}\n\n// For now we are only considering flush draws that use both hole cards\nfunction hasFlushDraw(handCards, boardCards) {\n  const suitToCount = {};\n  const allCards = handCards.concat(boardCards);\n  allCards.forEach((card) => {\n    const currentSuitCount = suitToCount[card.suit] || 0;\n    suitToCount[card.suit] = currentSuitCount + 1;\n  });\n\n  return Object.entries(suitToCount).some(([suit, count]) => {\n    return count === 4 && handCards.every((c) => c.suit === suit);\n  });\n}\n","import {checkIfTurnAndPlay, handleShowdown, handlePotDistribution} from './playhand'\n\nsetInterval(checkIfTurnAndPlay, 2500)\nsocket.on('is in showdown', handleShowdown)\nsocket.on('distributing pot', handlePotDistribution)"],"names":["$0df1a61bc49d2233$var$nonNumericRankToNum","T","J","Q","K","A","$0df1a61bc49d2233$export$1c585bc21eb51405","cardsString","cards","split","filter","card","map","cardString","rank","suit","ranknum","parseInt","sort","a","b","$4bc93b426d7a2d10$export$c0e98576cfcf6795","HIGH_CARD","PAIR","TWO_PAIR","THREE_OF_A_KIND","STRAIGHT","FLUSH","FULL_HOUSE","FOUR_OF_A_KIND","STRAIGHT_FLUSH","$4bc93b426d7a2d10$export$25d516e80805b3c6","$4be18b68299772f5$export$50fb8bc86304c405","allCards","lengthOfDraw","sortedRanks","c","uniqueRanksInOrder","Set","join","startsWith","i","length","subStringToCheck","slice","indexOf","$4be18b68299772f5$export$d23da08cb65660ef","handCards","boardCards","rankToCount","suitToCount","concat","forEach","currentRankCount","currentSuitCount","highestCount","secondHighestCount","Object","entries","_","count","staightFlushTopRank","hasFlush","flushRanks","cardsOfSuit","hand","handRanks","kickers","fourOfAKindRank","cardsMinusFourOfAKind","$4be18b68299772f5$export$737596005815f338","tripRanks","pairRanks","push","topRankInStraight","tripRank","cardsMinusTrips","cardsMinusPairs","includes","pairRank","cardsMinusPair","n","$f86c89a0cb56440a$var$tauntOpportunity","$f86c89a0cb56440a$var$mb","game","big_blind","$f86c89a0cb56440a$var$preFlopHandsToBetMultipliers","AA","KK","QQ","JJ","TT","AK","AQ","AJ","A5","AT","A9","A8","KQ","KJ","KT","K9","QJ","QT","Q9","Q8","JT","J9","J8","J7","T9","$f86c89a0cb56440a$var$suitedPreFlopHandsToBetMultipliers","A7","A6","A4","A3","A2","K8","T8","T7","$f86c89a0cb56440a$var$checkOrFold","action_widget","to_call","$f86c89a0cb56440a$var$checkOrCall","execute_fold","execute_check_call","$f86c89a0cb56440a$var$makeBetUsingMultipliers","callToMult","raiseToMult","betSizeIfAllIn","stack_size","bet_in_front","callToLimit","raiseToLimit","betInFront","betSizeIfCall","minBet","threshold_values","undefined","console","info","bet_button","raise_button","log","update_slider_by_value","sizing_input","value","execute_bet_raise","all_in","execute","call_button","$f86c89a0cb56440a$var$makeBetOfSize","$f86c89a0cb56440a$var$fourToFlushOrStraight","$f86c89a0cb56440a$var$fourToFlush","values","some","setInterval","async","players","client_perspective","card_str","Promise","resolve","setTimeout","holeCards","board","boardCardsLogMsg","handString","boardString","ruleset_name","game_options_widget","allow_easy_reveal","easy_reveal","is_checked","clicked","bomb_pot_value","bomb_pot","$f86c89a0cb56440a$var$setDefaultGameOptions","e","card1","card2","handRanksString","suitedBetMultipliers","betMultipliers","Math","random","$f86c89a0cb56440a$var$preflop","boardCardsString","playersInHand","potSizeAtStartOfRound","myhand","usedHoleCards","withBoth","noHoleCards","withFirst","withSecond","holeCard","rankNum","$f86c89a0cb56440a$var$getHoleCardsUsed","betOptions","message","callTo","raiseTo","every","highestBoardCardRankNum","max","AHNDS","boardCardRankNumDescending","$f86c89a0cb56440a$var$hasFlushDraw","highestCallTo","highestRaiseTo","betOption","RaiseTo","$f86c89a0cb56440a$var$postflop","n_players_in_hand","$f86c89a0cb56440a$var$playHand","socket","on","seat","is_sitting_in","is_folded","player","chips","potData","winners","keys","emit","taunt","id","table_id","group_id"],"version":3,"file":"index.js.map"}